
{
  "entities": {
    "student": {
      "title": "Student",
      "description": "Represents an individual student enrolled in the institution.",
      "type": "object",
      "properties": {
        "registerNumber": {
          "type": "string",
          "description": "The unique registration number for the student."
        },
        "name": {
          "type": "string",
          "description": "The full name of the student."
        },
        "fatherName": {
          "type": "string",
          "description": "The name of the student's father."
        },
        "motherName": {
          "type": "string",
          "description": "The name of the student's mother."
        },
        "department": {
          "type": "string",
          "description": "The department the student is enrolled in.",
          "enum": ["cs", "ce", "me", "ee", "mce", "ec"]
        },
        "profilePhotoUrl": {
          "type": "string",
          "description": "URL of the student's profile photo, used for face recognition."
        },
        "email": {
          "type": "string",
          "format": "email",
          "description": "The student's email address."
        },
        "contact": {
          "type": "string",
          "description": "The student's contact phone number."
        },
        "createdAt": {
          "type": "string",
          "format": "date-time",
          "description": "The timestamp when the student was enrolled."
        },
        "dateOfBirth": {
          "type": "string",
          "format": "date",
          "description": "The student's date of birth."
        }
      },
      "required": [
        "registerNumber",
        "name",
        "fatherName",
        "motherName",
        "department",
        "email",
        "contact",
        "createdAt",
        "dateOfBirth"
      ]
    },
    "attendanceRecord": {
      "title": "Attendance Record",
      "description": "Represents a single attendance entry for a student on a specific date.",
      "type": "object",
      "properties": {
        "studentRegister": {
          "type": "string",
          "description": "The registration number of the student."
        },
        "studentName": {
          "type": "string",
          "description": "The name of the student for easier display."
        },
        "date": {
          "type": "string",
          "format": "date",
          "description": "The date of the attendance record (YYYY-MM-DD)."
        },
        "status": {
          "type": "string",
          "description": "The attendance status for the student on that day.",
          "enum": ["present", "absent"]
        },
        "method": {
          "type": "string",
          "description": "The method used to mark attendance.",
          "enum": [
            "face-scan",
            "manual",
            "live-photo"
          ]
        },
        "photoUrl": {
          "type": "string",
          "description": "URL to the snapshot photo used for attendance."
        },
        "timestamp": {
          "type": "string",
          "format": "date-time",
          "description": "The exact timestamp when the attendance was marked."
        },
        "reason": {
          "type": "string",
          "description": "The reason for the student being on leave."
        }
      },
      "required": [
        "studentRegister",
        "date",
        "status",
        "method",
        "timestamp"
      ]
    },
    "teacher": {
      "title": "Teacher",
      "description": "Represents a teacher or faculty member.",
      "type": "object",
      "properties": {
        "teacherId": {
          "type": "string",
          "description": "Unique ID for the teacher, can be their email."
        },
        "name": {
          "type": "string",
          "description": "Full name of the teacher."
        },
        "email": {
          "type": "string",
          "format": "email",
          "description": "The teacher's email address, used for login."
        },
        "password": {
          "type": "string",
          "description": "The teacher's password for login."
        },
        "department": {
          "type": "string",
          "description": "The department the teacher belongs to.",
          "enum": [
            "cs",
            "ce",
            "me",
            "ee",
            "mce",
            "ec"
          ]
        },
        "profilePhotoUrl": {
          "type": "string",
          "description": "URL of the teacher's profile photo."
        },
        "createdAt": {
          "type": "string",
          "format": "date-time",
          "description": "Timestamp of when the teacher was added."
        }
      },
      "required": [
        "teacherId",
        "name",
        "email",
        "password",
        "department",
        "createdAt"
      ]
    },
    "institutionProfile": {
      "title": "Institution Profile",
      "description": "Stores the core details of the educational institution.",
      "type": "object",
      "properties": {
        "name": {
          "type": "string",
          "description": "The name of the institution."
        },
        "address": {
          "type": "string",
          "description": "The physical address of the institution."
        },
        "contact": {
          "type": "string",
          "description": "The primary contact number."
        },
        "email": {
          "type": "string",
          "format": "email",
          "description": "The primary contact email."
        },
        "coverImageUrl": {
          "type": "string",
          "description": "URL of the institution's cover image."
        }
      },
      "required": [
        "name",
        "address",
        "contact",
        "email"
      ]
    }
  },
  "auth": {
    "providers": ["email"]
  },
  "firestore": {
    "/students/{studentId}": {
      "schema": {
        "$ref": "#/entities/student"
      },
      "description": "Stores individual student documents, keyed by their registration number."
    },
    "/attendance/{attendanceId}": {
      "schema": {
        "$ref": "#/entities/attendanceRecord"
      },
      "description": "Stores individual attendance records."
    },
    "/teachers/{teacherId}": {
      "schema": {
        "$ref": "#/entities/teacher"
      },
      "description": "Stores individual teacher documents, keyed by their email."
    },
     "/institution/{institutionId}": {
      "schema": {
        "$ref": "#/entities/institutionProfile"
      },
      "description": "Stores a single document containing the institution's profile information. The document ID should be a constant like 'profile'."
    }
  }
}
